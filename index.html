<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FRNMINES - –ò–≥—Ä–∞ –≤ –ú–∏–Ω—ã</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary: #f8f9fa;
            --accent: #4285f4;
            --success: #34a853;
            --danger: #ea4335;
            --warning: #fbbc05;
            --dark: #202124;
            --light: #ffffff;
            --gray: #5f6368;
            --light-gray: #dadce0;
            --matte-gray: #3c4043;
            --card-bg: rgba(255, 255, 255, 0.97);
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --bg-gradient-start: #f0f5ff;
            --bg-gradient-end: #e6f0ff;
            --text-color: #202124;
        }

        [data-theme="dark"] {
            --primary: #4285f4;
            --primary-dark: #1a73e8;
            --secondary: #2d2d2d;
            --accent: #5a9cff;
            --dark: #e8eaed;
            --light: #1a1a1a;
            --gray: #9aa0a6;
            --light-gray: #3c4043;
            --matte-gray: #5f6368;
            --card-bg: rgba(45, 45, 45, 0.97);
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            --bg-gradient-start: #1a1a1a;
            --bg-gradient-end: #2d2d2d;
            --text-color: #e8eaed;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            color: var(--text-color);
            min-height: 100vh;
            padding-bottom: 80px;
            overflow-x: hidden;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
        }

        /* –®–∞–ø–∫–∞ */
        header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 700;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: var(--transition);
            margin-left: 10px;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .logo-icon {
            font-size: 26px;
            color: var(--warning);
        }

        .user-balance {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            font-size: 16px;
        }

        .fcoins {
            color: var(--warning);
        }

        /* –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - —Å–∫—Ä—ã—Ç–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ */
        .admin-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 90%;
            max-width: 380px;
            height: 100vh;
            background: var(--light);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 10000;
            transition: right 0.4s ease;
            overflow-y: auto;
            padding: 20px;
        }

        .admin-panel.active {
            right: 0;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-gray);
        }

        .admin-header h2 {
            color: var(--primary);
            font-size: 24px;
        }

        .admin-section {
            margin-bottom: 30px;
        }

        .admin-section h3 {
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 18px;
        }

        .admin-input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid var(--light-gray);
            margin-bottom: 15px;
            font-size: 16px;
        }

        .admin-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            transition: var(--transition);
        }

        .admin-btn:hover {
            transform: translateY(-2px);
        }

        .user-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            padding: 10px;
        }

        .user-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid var(--light-gray);
        }

        .user-item:last-child {
            border-bottom: none;
        }

        /* –û–∫–Ω–æ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É */
        .admin-login {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20000;
            padding: 20px;
            display: none;
        }

        .login-box {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .login-box h2 {
            margin-bottom: 25px;
            color: var(--primary);
        }

        /* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            transition: var(--transition);
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            flex: 1;
            max-width: 90px;
        }

        .nav-item.active {
            color: var(--primary);
            background: rgba(26, 115, 232, 0.1);
        }

        .nav-item i {
            font-size: 18px;
            margin-bottom: 4px;
        }

        .nav-item span {
            font-size: 12px;
            font-weight: 500;
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ */
        .content-section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ò–≥—Ä–∞ –ú–∏–Ω—ã */
        .game-controls {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .controls-row {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-group {
            width: 100%;
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 15px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: 700;
            color: var(--primary);
            font-size: 18px;
        }

        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: var(--light-gray);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .bet-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            justify-content: center;
        }

        .bet-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 10px;
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bet-btn:active {
            transform: scale(0.95);
        }

        #bet-amount, #crash-bet-amount, #roulette-bet-amount, #slots-bet-amount {
            width: 140px;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--light-gray);
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            background: var(--light);
            color: var(--text-color);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 16px 20px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex: 1;
        }

        .btn:active {
            transform: translateY(2px);
        }

        .btn-primary {
            background: linear-gradient(to right, var(--primary), var(--accent));
            color: white;
        }

        .btn-secondary {
            background: var(--secondary);
            color: var(--dark);
            border: 2px solid var(--light-gray);
        }

        .mines-field {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }

        .field-title {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        .field-title h2 {
            font-size: 22px;
        }

        .stats {
            display: flex;
            gap: 15px;
            justify-content: space-around;
        }

        .stat {
            background: var(--secondary);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-weight: 700;
            font-size: 22px;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray);
        }

        /* –ü–æ–ª–µ 5x5 –¥–ª—è –∏–≥—Ä—ã */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .cell {
            aspect-ratio: 1;
            background: linear-gradient(145deg, #e6f0ff, #c2d7ff);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            user-select: none;
            position: relative;
        }

        .cell:active {
            transform: scale(0.95);
        }

        .cell.revealed {
            background: linear-gradient(145deg, #ffffff, #e8e8e8);
            cursor: default;
            transform: scale(1);
        }

        .cell.mine {
            background: linear-gradient(145deg, #ff8a8a, #ff5252);
            color: white;
        }

        .cell.mine::after {
            content: '\f1e2';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 22px;
            color: white;
        }

        .cell.diamond {
            background: linear-gradient(145deg, #80deea, #4dd0e1);
            color: white;
        }

        .cell.diamond::after {
            content: '\f3a5';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 22px;
            color: white;
        }

        .cell.flag {
            background: linear-gradient(145deg, #a5d6a7, #81c784);
            color: white;
        }

        .cell.flag::after {
            content: '\f024';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 18px;
            color: white;
        }

        /* –ò–≥—Ä–∞ –ö—Ä–∞—à */
        .crash-game {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .crash-display {
            height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
        }

        .rocket-container {
            position: relative;
            height: 120px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .rocket {
            font-size: 60px;
            transition: transform 0.3s ease;
            z-index: 2;
        }

        .crash-multiplier {
            font-size: 48px;
            font-weight: 800;
            color: var(--primary-dark);
            margin: 15px 0;
            height: 60px;
        }

        .crash-graph {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: linear-gradient(to top, rgba(26, 115, 232, 0.1), transparent);
            border-radius: 0 0 15px 15px;
            overflow: hidden;
        }

        .graph-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            transition: height 5s linear;
        }

        /* –ò–≥—Ä–∞ –†—É–ª–µ—Ç–∫–∞ */
        .roulette-game {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .roulette-wheel {
            width: 250px;
            height: 250px;
            margin: 0 auto 20px;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            background: #2e7d32;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .wheel-numbers {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .wheel-number {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .wheel-pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: var(--danger);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            z-index: 10;
        }

        .roulette-bets {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .bet-option {
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .bet-red {
            background: #e53935;
            color: white;
        }

        .bet-black {
            background: #212121;
            color: white;
        }

        .bet-green {
            background: #43a047;
            color: white;
        }

        .bet-option.selected {
            border: 2px solid var(--warning);
            transform: scale(1.05);
        }

        /* –ò–≥—Ä–∞ –°–ª–æ—Ç—ã */
        .slots-game {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .slots-machine {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(145deg, #2d2d2d, #1a1a1a);
            border-radius: 15px;
            box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .slot-reel {
            width: 80px;
            height: 100px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .slot-reel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(255,255,255,0.3), transparent, rgba(0,0,0,0.1));
            pointer-events: none;
        }

        .slot-reel.spinning {
            animation: slotSpin 0.1s linear infinite;
        }

        @keyframes slotSpin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }

        .slots-result {
            margin: 15px 0;
            font-size: 18px;
            font-weight: 600;
            min-height: 30px;
        }

        /* FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–∫–∞–∫ VAC –≤ CS2) */
        .fn-live-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 99999;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fnLiveAppear 0.5s ease;
        }

        .fn-live-overlay.active {
            display: flex;
        }

        @keyframes fnLiveAppear {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .fn-live-content {
            text-align: center;
            padding: 40px;
            max-width: 600px;
        }

        .fn-live-title {
            color: #ff4444;
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: fnLivePulse 2s infinite;
        }

        @keyframes fnLivePulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        .fn-live-box {
            background: linear-gradient(135deg, #ff4444, #cc0000);
            border: 3px solid #ff6666;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(255, 68, 68, 0.5);
            animation: fnLiveShake 0.5s ease;
        }

        @keyframes fnLiveShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .fn-live-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: fnLiveRotate 3s linear infinite;
        }

        @keyframes fnLiveRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .fn-live-message {
            color: white;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .fn-live-reason {
            color: #ffcccc;
            font-size: 16px;
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        /* –û–Ω–ª–∞–π–Ω —Å—á–µ—Ç—á–∏–∫ */
        .online-counter {
            position: fixed;
            top: 80px;
            right: 15px;
            background: var(--card-bg);
            padding: 8px 15px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            z-index: 100;
        }

        .online-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: onlinePulse 2s infinite;
        }

        @keyframes onlinePulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .avatar-container {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
        }

        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary);
        }

        .verified-badge {
            position: absolute;
            bottom: 0;
            right: 0;
            background: var(--success);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid white;
            font-size: 14px;
        }

        .user-info h2 {
            font-size: 22px;
            margin-bottom: 5px;
        }

        .user-info p {
            color: var(--gray);
            margin-bottom: 15px;
            font-size: 14px;
        }

        .profile-actions {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .badges-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
        }

        .badge {
            background: var(--secondary);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
        }

        .badge.active {
            background: linear-gradient(to right, #e3f2fd, #bbdefb);
            border-left: 4px solid var(--primary);
        }

        .badge-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .badge-icon.player {
            background: linear-gradient(to right, #4caf50, #2e7d32);
        }

        .badge-icon.verified {
            background: linear-gradient(to right, #2196f3, #0d47a1);
        }

        .badge-icon.developer {
            background: linear-gradient(to right, #ff9800, #ef6c00);
        }

        .badge-icon.founder {
            background: linear-gradient(to right, #9c27b0, #6a1b9a);
        }

        .badge-info h3 {
            font-size: 16px;
            margin-bottom: 4px;
        }

        .badge-info p {
            font-size: 12px;
            color: var(--gray);
        }

        /* –ë–æ–Ω—É—Å—ã */
        .promo-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .promo-input {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        @media (min-width: 480px) {
            .promo-input {
                flex-direction: row;
            }
        }

        .promo-input input {
            flex: 1;
            padding: 14px;
            border-radius: 10px;
            border: 2px solid var(--light-gray);
            font-size: 16px;
        }

        .promo-btn {
            background: linear-gradient(to right, var(--success), #2e7d32);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .bonus-card {
            background: linear-gradient(135deg, #bbdefb, #64b5f6);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            color: var(--dark);
        }

        .bonus-card h3 {
            font-size: 22px;
            margin-bottom: 10px;
        }

        .bonus-card p {
            margin-bottom: 15px;
            font-size: 15px;
        }

        .bonus-amount {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary-dark);
            margin: 10px 0;
        }

        /* –°–µ–∫—Ü–∏—è —Å –∏–≥—Ä–∞–º–∏ */
        .games-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 2000;
            box-shadow: var(--shadow);
            transform: translateY(-100px);
            opacity: 0;
            transition: transform 0.4s ease, opacity 0.4s ease;
            text-align: center;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.success {
            background: linear-gradient(to right, var(--success), #2e7d32);
        }

        .notification.error {
            background: linear-gradient(to right, var(--danger), #c62828);
        }

        .notification.info {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
        }

        .notification.admin {
            background: linear-gradient(to right, #9c27b0, #6a1b9a);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 1.5s infinite;
        }

        @keyframes rocketFly {
            0% { transform: translateY(0) scale(1); }
            70% { transform: translateY(-200px) scale(1.2); }
            100% { transform: translateY(-300px) scale(0.5); opacity: 0; }
        }

        .rocket-fly {
            animation: rocketFly 2s ease-out forwards;
        }

        @keyframes wheelSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(3600deg); }
        }

        .wheel-spin {
            animation: wheelSpin 5s cubic-bezier(0.2, 0.8, 0.3, 1) forwards;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (min-width: 768px) {
            .container {
                max-width: 800px;
                padding: 25px;
            }
            
            .controls-row {
                flex-direction: row;
            }
            
            .grid-container {
                gap: 12px;
            }
            
            .cell {
                border-radius: 10px;
            }
            
            .stat-value {
                font-size: 24px;
            }
            
            .btn {
                padding: 18px 25px;
            }
            
            .games-section {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .crash-game, .roulette-game {
                flex: 1;
                min-width: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
    <div class="admin-panel" id="admin-panel">
        <div class="admin-header">
            <h2>–ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h2>
            <button class="close-modal" id="close-admin">&times;</button>
        </div>
        
        <div class="admin-section">
            <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º</h3>
            <input type="text" class="admin-input" id="admin-message" placeholder="–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è">
            <button class="admin-btn" id="send-all">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ–º –æ–Ω–ª–∞–π–Ω</button>
        </div>
        
        <div class="admin-section">
            <h3>–í—ã–¥–∞—Ç—å –±–µ–π–¥–∂</h3>
            <input type="text" class="admin-input" id="admin-username-badge" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
            <select class="admin-input" id="badge-select">
                <option value="player">–ò–≥—Ä–æ–∫</option>
                <option value="verified">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</option>
                <option value="developer">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</option>
                <option value="founder">–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å</option>
            </select>
            <button class="admin-btn" id="give-badge">–í—ã–¥–∞—Ç—å –±–µ–π–¥–∂</button>
        </div>
        
        <div class="admin-section">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</h3>
            <input type="text" class="admin-input" id="promo-code-input" placeholder="–ö–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–∞">
            <input type="number" class="admin-input" id="promo-amount" placeholder="–°—É–º–º–∞ FCOINS">
            <button class="admin-btn" id="add-promo">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>
            <p style="font-size: 12px; color: var(--gray); margin-top: 10px;">–ü—Ä–æ–º–æ–∫–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª promocodes.txt</p>
        </div>
        
        <div class="admin-section">
            <h3>–ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h3>
            <input type="text" class="admin-input" id="admin-user" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
            <input type="number" class="admin-input" id="balance-change" placeholder="–°—É–º–º–∞">
            <button class="admin-btn" id="add-balance">–î–æ–±–∞–≤–∏—Ç—å FCOINS</button>
            <button class="admin-btn" id="remove-balance" style="background: linear-gradient(to right, #ea4335, #c62828);">–°–ø–∏—Å–∞—Ç—å FCOINS</button>
        </div>
        
        <div class="admin-section">
            <h3>FN-Live —Å–∏—Å—Ç–µ–º–∞</h3>
            <input type="number" class="admin-input" id="fn-live-user-id" placeholder="Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
            <input type="text" class="admin-input" id="fn-live-reason" placeholder="–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
            <button class="admin-btn" id="fn-live-block-btn" style="background: linear-gradient(to right, #ff4444, #cc0000);">
                <i class="fas fa-shield-alt"></i> –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É (FN-Live)
            </button>
        </div>
        
        <div class="admin-section">
            <h3>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
            <button class="admin-btn" id="refresh-users" style="margin-bottom: 10px;">
                <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
            </button>
            <div class="user-list" id="user-list">
                <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <!-- FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ -->
    <div class="fn-live-overlay" id="fn-live-overlay">
        <div class="fn-live-content">
            <div class="fn-live-title">–ò–ì–†–ê –û–¢–ú–ï–ù–ï–ù–ê</div>
            <div class="fn-live-box">
                <div class="fn-live-icon">‚ö†Ô∏è</div>
                <div class="fn-live-message">
                    –°–∏—Å—Ç–µ–º–∞ FN-Live –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
                </div>
                <div class="fn-live-reason" id="fn-live-reason">
                    –í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –±—ã–ª–∏ –ø—Ä–∏–∑–Ω–∞–Ω—ã –Ω–µ–æ–±—ã—á–Ω—ã–º–∏. –ò–≥—Ä–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ü–µ–ª—è—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π.
                </div>
            </div>
        </div>
    </div>

    <!-- –û–Ω–ª–∞–π–Ω —Å—á–µ—Ç—á–∏–∫ -->
    <div class="online-counter">
        <div class="online-dot"></div>
        <span id="online-count">0</span> –æ–Ω–ª–∞–π–Ω
    </div>

    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header></header>
            <div class="logo">
                <i class="fas fa-bomb logo-icon"></i>
                <h1>FRNMINES</h1>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-balance">
                    <i class="fas fa-coins fcoins"></i>
                    <span id="balance">10 000</span> FCOINS
                </div>
            </div>
        </header>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ -->
        <section id="game-section" class="content-section active">
            <div class="game-controls">
                <h2 style="margin-bottom: 15px;">–ò–≥—Ä–∞ –ú–ò–ù–´</h2>
                <div class="controls-row">
                    <div class="control-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω (1-24)</label>
                        <div class="slider-container">
                            <span class="slider-value" id="mines-value">3</span>
                            <input type="range" id="mines-slider" min="1" max="24" value="3">
                        </div>
                    </div>
                    <div class="control-group">
                        <label>–°—Ç–∞–≤–∫–∞ (FCOINS)</label>
                        <div class="bet-controls">
                            <button class="bet-btn" id="bet-down">-</button>
                            <input type="number" id="bet-amount" value="100" min="10" max="100000">
                            <button class="bet-btn" id="bet-up">+</button>
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="start-game">
                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                    </button>
                    <button class="btn btn-secondary" id="cash-out">
                        <i class="fas fa-hand-holding-usd"></i> –ó–∞–±—Ä–∞—Ç—å
                    </button>
                </div>
                <div style="margin-top: 15px; font-size: 14px; color: var(--gray);">
                    <p><i class="fas fa-info-circle"></i> –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: <strong id="base-multiplier">1.50x</strong> | –®–∞–≥ —É–≤–µ–ª–∏—á–µ–Ω–∏—è: <strong>0.10x</strong></p>
                </div>
            </div>

            <div class="mines-field">
                <div class="field-title">
                    <h2>–ü–æ–ª–µ –∏–≥—Ä—ã 5x5</h2>
                    <div class="stats">
                        <div class="stat">
                            <div class="stat-value" id="multiplier">1.50x</div>
                            <div class="stat-label">–ú–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="potential-win">150</div>
                            <div class="stat-label">–í—ã–∏–≥—Ä—ã—à</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value" id="mines-count">3</div>
                            <div class="stat-label">–ú–∏–Ω—ã</div>
                        </div>
                    </div>
                </div>
                <div class="grid-container" id="mines-grid">
                    <!-- –Ø—á–µ–π–∫–∏ 5x5 –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                <div style="margin-top: 15px; font-size: 13px; color: var(--gray); text-align: center;">
                    <p><i class="fas fa-mouse-pointer"></i> –õ–ö–ú - –æ—Ç–∫—Ä—ã—Ç—å —è—á–µ–π–∫—É | <i class="fas fa-mouse-pointer"></i> –ü–ö–ú - –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–ª–∞–≥</p>
                </div>
            </div>
        </section>

        <section id="bonus-section" class="content-section">
            <div class="bonus-card">
                <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å</h3>
                <p>–ó–∞—Ö–æ–¥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É!</p>
                <div class="bonus-amount">+500 FCOINS</div>
                <button class="btn btn-primary" id="daily-bonus-btn">
                    <i class="fas fa-gift"></i> –ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å
                </button>
            </div>

            <div class="promo-section">
                <h2 class="section-title">–ü—Ä–æ–º–æ–∫–æ–¥—ã</h2>
                <div class="promo-input">
                    <input type="text" id="promo-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                    <button class="promo-btn" id="apply-promo">
                        <i class="fas fa-key"></i> –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>
                <p>–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–Ω—ã—Ö FCOINS</p>
                <p style="font-size: 12px; color: var(--gray); margin-top: 10px;">–ü—Ä–æ–º–æ–∫–æ–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª promocodes.txt</p>
            </div>
        </section>

        <section id="games-section" class="content-section">
            <h2 class="section-title" style="margin-bottom: 20px;">–î—Ä—É–≥–∏–µ –∏–≥—Ä—ã</h2>
            <div class="games-section">
                <div class="crash-game">
                    <h2>–ö–†–ê–® (Rocket)</h2>
                    <div class="crash-display">
                        <div class="rocket-container">
                            <div class="rocket" id="rocket">üöÄ</div>
                            <div class="crash-graph">
                                <div class="graph-line" id="graph-line"></div>
                            </div>
                        </div>
                        <div class="crash-multiplier" id="crash-multiplier">1.00x</div>
                    </div>
                    <div class="controls-row">
                        <div class="control-group">
                            <label>–°—Ç–∞–≤–∫–∞ (FCOINS)</label>
                            <div class="bet-controls">
                                <button class="bet-btn" id="crash-bet-down">-</button>
                                <input type="number" id="crash-bet-amount" value="100" min="10" max="100000">
                                <button class="bet-btn" id="crash-bet-up">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="start-crash">
                            <i class="fas fa-rocket"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∫–µ—Ç—É
                        </button>
                        <button class="btn btn-secondary" id="cash-out-crash">
                            <i class="fas fa-hand-holding-usd"></i> –ó–∞–±—Ä–∞—Ç—å
                        </button>
                    </div>
                    <p style="margin-top: 15px; font-size: 14px; color: var(--gray);">–ó–∞–±–µ—Ä–∏—Ç–µ –≤—ã–∏–≥—Ä—ã—à –¥–æ –≤–∑—Ä—ã–≤–∞ —Ä–∞–∫–µ—Ç—ã!</p>
                </div>

                <div class="roulette-game">
                    <h2>–†–£–õ–ï–¢–ö–ê</h2>
                    <div class="roulette-wheel" id="roulette-wheel">
                        <div class="wheel-numbers" id="wheel-numbers">
                            <!-- –ß–∏—Å–ª–∞ —Ä—É–ª–µ—Ç–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        </div>
                        <div class="wheel-pointer"></div>
                    </div>
                    <div class="roulette-bets" id="roulette-bets">
                        <div class="bet-option bet-red" data-bet="red">–ö—Ä–∞—Å–Ω–æ–µ (x2)</div>
                        <div class="bet-option bet-black" data-bet="black">–ß–µ—Ä–Ω–æ–µ (x2)</div>
                        <div class="bet-option bet-green" data-bet="green">–ó–µ—Ä–æ (x14)</div>
                    </div>
                    <div class="controls-row" style="margin-top: 20px;">
                        <div class="control-group">
                            <label>–°—Ç–∞–≤–∫–∞ (FCOINS)</label>
                            <div class="bet-controls">
                                <button class="bet-btn" id="roulette-bet-down">-</button>
                                <input type="number" id="roulette-bet-amount" value="100" min="10" max="100000">
                                <button class="bet-btn" id="roulette-bet-up">+</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="spin-roulette" style="width: 100%; margin-top: 20px;">
                        <i class="fas fa-dice"></i> –ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É
                    </button>
                </div>

                <div class="slots-game">
                    <h2>–°–õ–û–¢–´</h2>
                    <div class="slots-machine">
                        <div class="slot-reel" id="slot-1">üçí</div>
                        <div class="slot-reel" id="slot-2">üçã</div>
                        <div class="slot-reel" id="slot-3">üçä</div>
                    </div>
                    <div class="slots-result" id="slots-result"></div>
                    <div class="controls-row">
                        <div class="control-group">
                            <label>–°—Ç–∞–≤–∫–∞ (FCOINS)</label>
                            <div class="bet-controls">
                                <button class="bet-btn" id="slots-bet-down">-</button>
                                <input type="number" id="slots-bet-amount" value="100" min="10" max="100000">
                                <button class="bet-btn" id="slots-bet-up">+</button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="spin-slots" style="width: 100%; margin-top: 20px;">
                        <i class="fas fa-play"></i> –ö—Ä—É—Ç–∏—Ç—å —Å–ª–æ—Ç—ã
                    </button>
                    <p style="margin-top: 15px; font-size: 13px; color: var(--gray);">
                        üçíüçíüçí = x10 | üçãüçãüçã = x8 | üçäüçäüçä = x6 | üíéüíéüíé = x20 | 7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£ = x50
                    </p>
                </div>
            </div>
        </section>

        <section id="profile-section" class="content-section">
            <div class="profile-card">
                <div class="avatar-container">
                    <img src="https://i.pravatar.cc/150?img=12" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar" id="user-avatar">
                    <div class="verified-badge" id="verified-badge">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="user-info">
                    <h2 id="username">–ò–≥—Ä–æ–∫_–¢–µ—Å—Ç</h2>
                    <p>–£—Ä–æ–≤–µ–Ω—å: <strong>12</strong> | –ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ: <strong id="games-played">47</strong></p>
                    <p>ID: <span id="user-id">#0001</span> | Telegram: <span id="tg-username">@test_user</span></p>
                    <p>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: <span id="reg-date">15.06.2024</span></p>
                </div>
                <div class="profile-actions">
                    <button class="btn btn-primary" id="admin-access-btn">
                        <i class="fas fa-cog"></i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
                    </button>
                </div>
            </div>

            <div class="badges-container">
                <h2 class="section-title">–ë–µ–π–¥–∂–∏</h2>
                <div class="badges-grid">
                    <div class="badge active" id="badge-player">
                        <div class="badge-icon player">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="badge-info">
                            <h3>–ò–≥—Ä–æ–∫</h3>
                            <p>–ë–∞–∑–æ–≤—ã–π –±–µ–π–¥–∂ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤</p>
                        </div>
                    </div>
                    <div class="badge" id="badge-verified">
                        <div class="badge-icon verified">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="badge-info">
                            <h3>–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</h3>
                            <p>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç</p>
                        </div>
                    </div>
                    <div class="badge" id="badge-developer">
                        <div class="badge-icon developer">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="badge-info">
                            <h3>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</h3>
                            <p>–£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏–≥—Ä—ã</p>
                        </div>
                    </div>
                    <div class="badge" id="badge-founder">
                        <div class="badge-icon founder">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="badge-info">
                            <h3>–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å</h3>
                            <p>–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ FRNMINES</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="badges-container">
                <h2 class="section-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä</h2>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div style="background: var(--secondary); padding: 15px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="total-wins">12</div>
                        <div style="font-size: 13px; color: var(--gray);">–ü–æ–±–µ–¥ –≤ –ú–∏–Ω–∞—Ö</div>
                    </div>
                    <div style="background: var(--secondary); padding: 15px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--success);" id="total-profit">+5,400</div>
                        <div style="font-size: 13px; color: var(--gray);">–û–±—â–∏–π –≤—ã–∏–≥—Ä—ã—à</div>
                    </div>
                    <div style="background: var(--secondary); padding: 15px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--warning);" id="max-win">2,400</div>
                        <div style="font-size: 13px; color: var(--gray);">–ú–∞–∫—Å. –≤—ã–∏–≥—Ä—ã—à</div>
                    </div>
                    <div style="background: var(--secondary); padding: 15px; border-radius: 10px; text-align: center;">
                        <div style="font-size: 24px; font-weight: 700; color: var(--danger);" id="max-multiplier-stat">8.5x</div>
                        <div style="font-size: 13px; color: var(--gray);">–ú–∞–∫—Å. –º–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="bottom-nav">
        <div class="nav-item active" data-section="game-section">
            <i class="fas fa-gamepad"></i>
            <span>–ò–≥—Ä–∞</span>
        </div>
        <div class="nav-item" data-section="bonus-section">
            <i class="fas fa-gift"></i>
            <span>–ë–æ–Ω—É—Å—ã</span>
        </div>
        <div class="nav-item" data-section="games-section">
            <i class="fas fa-dice"></i>
            <span>–ò–≥—Ä—ã</span>
        </div>
        <div class="nav-item" data-section="profile-section">
            <i class="fas fa-user"></i>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification">
        –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        let balance = 10000;
        let currentBet = 100;
        let mineCount = 3;
        let gameActive = false;
        let revealedCells = 0;
        let multiplier = 1.5; // –ù–ê–ß–ê–õ–¨–ù–´–ô –ú–ù–û–ñ–ò–¢–ï–õ–¨ 1.5x
        let multiplierStep = 0.10; // –®–ê–ì –£–í–ï–õ–ò–ß–ï–ù–ò–Ø 0.10x
        let minePositions = [];
        let flaggedCells = [];
        let totalGamesPlayed = 47;
        
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
        let playerStats = {
            totalWins: 12,
            totalProfit: 5400,
            maxWin: 2400,
            maxMultiplier: 8.5
        };
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–≥—Ä—ã –ö—Ä–∞—à
        let crashGameActive = false;
        let crashMultiplier = 1.0;
        let crashBet = 100;
        let cashoutMultiplier = 1.0;
        let crashInterval;
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–≥—Ä—ã –†—É–ª–µ—Ç–∫–∞
        let rouletteBet = 100;
        let selectedBet = "red";
        let rouletteSpinning = false;
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–≥—Ä—ã –°–ª–æ—Ç—ã
        let slotsBet = 100;
        let slotsSpinning = false;
        const slotSymbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üçâ', '‚≠ê', 'üíé', '7Ô∏è‚É£'];
        const slotPayouts = {
            'üçíüçíüçí': 10,
            'üçãüçãüçã': 8,
            'üçäüçäüçä': 6,
            'üçáüçáüçá': 5,
            'üçâüçâüçâ': 7,
            '‚≠ê‚≠ê‚≠ê': 15,
            'üíéüíéüíé': 20,
            '7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£': 50
        };
        
        // Telegram Web App
        let tg = window.Telegram?.WebApp;
        
        // WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
        let ws = null;
        let reconnectInterval = null;
        let isConnected = false;
        
        // –ü—Ä–æ–º–æ–∫–æ–¥—ã (–∏–º–∏—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–∞ promocodes.txt)
        let promoCodes = {};
        
        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—Ç–æ–ª—å–∫–æ 1 —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å)
        let currentUser = {
            id: 1,
            name: "–ò–≥—Ä–æ–∫_–¢–µ—Å—Ç",
            username: "test_user",
            avatar: "https://i.pravatar.cc/150?img=12",
            verified: false,
            telegramId: null
        };
        
        // –ê–¥–º–∏–Ω –¥–∞–Ω–Ω—ã–µ
        const ADMIN_USERNAME = "admin";
        const ADMIN_PASSWORD = "frnmines2024";
        let isAdminLoggedIn = false;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const balanceElement = document.getElementById('balance');
        const betAmountElement = document.getElementById('bet-amount');
        const betDownButton = document.getElementById('bet-down');
        const betUpButton = document.getElementById('bet-up');
        const minesSlider = document.getElementById('mines-slider');
        const minesValueElement = document.getElementById('mines-value');
        const minesCountElement = document.getElementById('mines-count');
        const startGameButton = document.getElementById('start-game');
        const cashOutButton = document.getElementById('cash-out');
        const multiplierElement = document.getElementById('multiplier');
        const potentialWinElement = document.getElementById('potential-win');
        const baseMultiplierElement = document.getElementById('base-multiplier');
        const minesGrid = document.getElementById('mines-grid');
        const notification = document.getElementById('notification');
        const navItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        const dailyBonusButton = document.getElementById('daily-bonus-btn');
        const promoCodeInput = document.getElementById('promo-code');
        const applyPromoButton = document.getElementById('apply-promo');
        const usernameElement = document.getElementById('username');
        const gamesPlayedElement = document.getElementById('games-played');
        const regDateElement = document.getElementById('reg-date');
        const userAvatar = document.getElementById('user-avatar');
        const userIdElement = document.getElementById('user-id');
        const tgUsernameElement = document.getElementById('tg-username');
        const verifiedBadge = document.getElementById('verified-badge');
        const adminAccessBtn = document.getElementById('admin-access-btn');
        
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
        const totalWinsElement = document.getElementById('total-wins');
        const totalProfitElement = document.getElementById('total-profit');
        const maxWinElement = document.getElementById('max-win');
        const maxMultiplierStatElement = document.getElementById('max-multiplier-stat');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã –ö—Ä–∞—à
        const crashBetAmountElement = document.getElementById('crash-bet-amount');
        const crashBetDownButton = document.getElementById('crash-bet-down');
        const crashBetUpButton = document.getElementById('crash-bet-up');
        const startCrashButton = document.getElementById('start-crash');
        const cashOutCrashButton = document.getElementById('cash-out-crash');
        const crashMultiplierElement = document.getElementById('crash-multiplier');
        const rocketElement = document.getElementById('rocket');
        const graphLineElement = document.getElementById('graph-line');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã –†—É–ª–µ—Ç–∫–∞
        const rouletteBetAmountElement = document.getElementById('roulette-bet-amount');
        const rouletteBetDownButton = document.getElementById('roulette-bet-down');
        const rouletteBetUpButton = document.getElementById('roulette-bet-up');
        const spinRouletteButton = document.getElementById('spin-roulette');
        const rouletteBetsElement = document.getElementById('roulette-bets');
        const wheelNumbersElement = document.getElementById('wheel-numbers');
        const rouletteWheelElement = document.getElementById('roulette-wheel');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        const adminPanel = document.getElementById('admin-panel');
        const closeAdmin = document.getElementById('close-admin');
        const adminLoginElement = document.getElementById('admin-login');
        const loginButton = document.getElementById('login-btn');
        const userList = document.getElementById('user-list');
        const giveBadgeButton = document.getElementById('give-badge');
        const addPromoButton = document.getElementById('add-promo');
        const addBalanceButton = document.getElementById('add-balance');
        const removeBalanceButton = document.getElementById('remove-balance');
        const sendAllButton = document.getElementById('send-all');
        const adminMessageElement = document.getElementById('admin-message');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è 5x5
        function initGameGrid() {
            minesGrid.innerHTML = '';
            const totalCells = 25; // –ü–æ–ª–µ 5x5
            
            for (let i = 0; i < totalCells; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.dataset.index = i;
                
                cell.addEventListener('click', () => revealCell(i));
                cell.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    toggleFlag(i);
                });
                
                minesGrid.appendChild(cell);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä—É–ª–µ—Ç–∫–∏
        function initRoulette() {
            wheelNumbersElement.innerHTML = '';
            const numbers = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
            
            numbers.forEach((number, index) => {
                const angle = (index / numbers.length) * 360;
                const numberElement = document.createElement('div');
                numberElement.className = 'wheel-number';
                numberElement.textContent = number;
                numberElement.style.transform = `rotate(${angle}deg)`;
                
                // –¶–≤–µ—Ç–∞ —Ä—É–ª–µ—Ç–∫–∏
                if (number === 0) {
                    numberElement.style.background = '#2e7d32'; // –ó–µ–ª–µ–Ω—ã–π –¥–ª—è 0
                } else if (number % 2 === 0) {
                    numberElement.style.background = '#e53935'; // –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è —á–µ—Ç–Ω—ã—Ö
                } else {
                    numberElement.style.background = '#212121'; // –ß–µ—Ä–Ω—ã–π –¥–ª—è –Ω–µ—á–µ—Ç–Ω—ã—Ö
                }
                
                wheelNumbersElement.appendChild(numberElement);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–∫–∏
            document.querySelectorAll('.bet-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.bet-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedBet = this.dataset.bet;
                });
            });
            
            // –í—ã–±–∏—Ä–∞–µ–º –∫—Ä–∞—Å–Ω–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.querySelector('.bet-red').classList.add('selected');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –º–∏–Ω
        function generateMines() {
            minePositions = [];
            const totalCells = 25;
            
            while (minePositions.length < mineCount) {
                const randomPos = Math.floor(Math.random() * totalCells);
                if (!minePositions.includes(randomPos)) {
                    minePositions.push(randomPos);
                }
            }
        }

        // –†–∞—Å—á–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—É–º–º—ã —Å—Ç–∞–≤–∫–∏
        function calculateInitialMultiplier() {
            if (currentBet >= 10000) {
                return 2.0; // –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –æ—Ç 10–∫
            } else if (currentBet >= 5000) {
                return 1.8; // –î–ª—è —Å—Ä–µ–¥–Ω–∏—Ö —Å—Ç–∞–≤–æ–∫ 5-10–∫
            } else if (currentBet >= 1000) {
                return 1.7; // –î–ª—è —Å—Ç–∞–≤–æ–∫ 1-5–∫
            } else {
                return 1.5; // –ë–∞–∑–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—Ç–∞–≤–æ–∫
            }
        }

        // –†–∞—Å—á–µ—Ç —à–∞–≥–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω
        function calculateMultiplierStep() {
            // –ß–µ–º –±–æ–ª—å—à–µ –º–∏–Ω, —Ç–µ–º –º–µ–Ω—å—à–µ —à–∞–≥ —É–≤–µ–ª–∏—á–µ–Ω–∏—è (—Ä–∏—Å–∫ –≤—ã—à–µ)
            if (mineCount >= 20) {
                return 0.08;
            } else if (mineCount >= 15) {
                return 0.09;
            } else if (mineCount >= 10) {
                return 0.10;
            } else if (mineCount >= 5) {
                return 0.12;
            } else {
                return 0.15; // –ú–∞–ª–æ –º–∏–Ω - –±—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç
            }
        }

        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã –ú–∏–Ω—ã
        function startGame() {
            if (gameActive) {
                // –°–±—Ä–æ—Å –∏–≥—Ä—ã
                resetGame();
                return;
            }
            
            if (currentBet > balance) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ FCOINS –¥–ª—è —Å—Ç–∞–≤–∫–∏', 'error');
                return;
            }
            
            if (mineCount >= 25) {
                showNotification('–ú–∞–∫—Å–∏–º—É–º –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å 24 –º–∏–Ω—ã –Ω–∞ –ø–æ–ª–µ 5x5', 'error');
                return;
            }
            
            balance -= currentBet;
            updateBalance();
            
            gameActive = true;
            revealedCells = 0;
            
            // –†–∞—Å—á–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—É–º–º—ã —Å—Ç–∞–≤–∫–∏
            multiplier = calculateInitialMultiplier();
            multiplierStep = calculateMultiplierStep();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è
            baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
            
            updateMultiplier();
            updatePotentialWin();
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω
            generateMines();
            
            // –°–±—Ä–æ—Å —è—á–µ–µ–∫
            document.querySelectorAll('.cell').forEach(cell => {
                cell.className = 'cell';
            });
            
            startGameButton.innerHTML = '<i class="fas fa-sync-alt"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞';
            startGameButton.style.background = 'linear-gradient(to right, #f44336, #c62828)';
            
            totalGamesPlayed++;
            gamesPlayedElement.textContent = totalGamesPlayed;
            
            showNotification(`–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ù–∞—á–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å: ${multiplier.toFixed(2)}x, —à–∞–≥: ${multiplierStep.toFixed(2)}x`, 'info');
        }

        // –°–±—Ä–æ—Å –∏–≥—Ä—ã –ú–∏–Ω—ã
        function resetGame() {
            gameActive = false;
            revealedCells = 0;
            multiplier = calculateInitialMultiplier();
            
            updateMultiplier();
            updatePotentialWin();
            
            // –°–±—Ä–æ—Å —è—á–µ–µ–∫
            document.querySelectorAll('.cell').forEach(cell => {
                cell.className = 'cell';
            });
            
            startGameButton.innerHTML = '<i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
            startGameButton.style.background = 'linear-gradient(to right, var(--primary), var(--accent))';
            
            showNotification('–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞. –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é!', 'info');
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —è—á–µ–π–∫–∏ –≤ –ú–∏–Ω–∞—Ö
        function revealCell(index) {
            if (!gameActive) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É!', 'error');
                return;
            }
            
            const cell = document.querySelector(`.cell[data-index="${index}"]`);
            
            if (cell.classList.contains('revealed') || cell.classList.contains('flag')) {
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∏–Ω—É
            if (minePositions.includes(index)) {
                cell.classList.add('mine', 'revealed');
                gameOver(false);
                return;
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —è—á–µ–π–∫–∏
            cell.classList.add('diamond', 'revealed');
            
            revealedCells++;
            
            // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è –Ω–∞ —à–∞–≥
            multiplier += multiplierStep;
            multiplier = parseFloat(multiplier.toFixed(2)); // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ 2 –∑–Ω–∞–∫–æ–≤
            
            updateMultiplier();
            updatePotentialWin();
            
            // –ê–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤—Å–µ—Ö –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —è—á–µ–µ–∫
            if (revealedCells === 25 - mineCount) {
                gameOver(true);
            }
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞/—Å–Ω—è—Ç–∏–µ —Ñ–ª–∞–∂–∫–∞ –≤ –ú–∏–Ω–∞—Ö
        function toggleFlag(index) {
            if (!gameActive) return;
            
            const cell = document.querySelector(`.cell[data-index="${index}"]`);
            
            if (cell.classList.contains('revealed')) return;
            
            if (cell.classList.contains('flag')) {
                cell.classList.remove('flag');
                const flagIndex = flaggedCells.indexOf(index);
                if (flagIndex > -1) flaggedCells.splice(flagIndex, 1);
            } else {
                if (flaggedCells.length >= mineCount) {
                    showNotification('–í—ã —É–∂–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–ª–∞–∂–∫–æ–≤!', 'error');
                    return;
                }
                
                cell.classList.add('flag');
                flaggedCells.push(index);
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞, –≤—Å–µ –ª–∏ –º–∏–Ω—ã –æ—Ç–º–µ—á–µ–Ω—ã
                if (flaggedCells.length === mineCount && 
                    flaggedCells.every(pos => minePositions.includes(pos))) {
                    gameOver(true);
                }
            }
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã –ú–∏–Ω—ã
        function gameOver(isWin) {
            gameActive = false;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–∏–Ω—ã
            minePositions.forEach(pos => {
                const cell = document.querySelector(`.cell[data-index="${pos}"]`);
                if (!cell.classList.contains('flag')) {
                    cell.classList.add('mine');
                }
            });
            
            if (isWin) {
                const winAmount = Math.floor(currentBet * multiplier);
                balance += winAmount;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                if (winAmount > playerStats.maxWin) {
                    playerStats.maxWin = winAmount;
                    maxWinElement.textContent = playerStats.maxWin.toLocaleString();
                }
                
                if (multiplier > playerStats.maxMultiplier) {
                    playerStats.maxMultiplier = multiplier;
                    maxMultiplierStatElement.textContent = playerStats.maxMultiplier.toFixed(1) + 'x';
                }
                
                playerStats.totalWins++;
                playerStats.totalProfit += winAmount;
                
                totalWinsElement.textContent = playerStats.totalWins;
                totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –≤—ã–∏–≥—Ä—ã—à–∞
                document.querySelectorAll('.cell.diamond').forEach(cell => {
                    cell.classList.add('pulse');
                });
                
                showNotification(`–ü–æ–±–µ–¥–∞! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} FCOINS (${multiplier.toFixed(2)}x)`, 'success');
            } else {
                playerStats.totalProfit -= currentBet;
                totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                
                showNotification(`–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –º–∏–Ω—É! –ü–æ—Ç–µ—Ä—è–Ω–æ ${currentBet} FCOINS.`, 'error');
            }
            
            updateBalance();
            startGameButton.innerHTML = '<i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
            startGameButton.style.background = 'linear-gradient(to right, var(--primary), var(--accent))';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            savePlayerStats();
        }

        // –ó–∞–±—Ä–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à –≤ –ú–∏–Ω–∞—Ö
        function cashOut() {
            if (!gameActive || revealedCells === 0) {
                showNotification('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∏–≥—Ä—ã –∏–ª–∏ –≤—ã –Ω–µ –æ—Ç–∫—Ä—ã–ª–∏ –Ω–∏ –æ–¥–Ω–æ–π —è—á–µ–π–∫–∏', 'error');
                return;
            }
            
            const winAmount = Math.floor(currentBet * multiplier);
            balance += winAmount;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            if (winAmount > playerStats.maxWin) {
                playerStats.maxWin = winAmount;
                maxWinElement.textContent = playerStats.maxWin.toLocaleString();
            }
            
            if (multiplier > playerStats.maxMultiplier) {
                playerStats.maxMultiplier = multiplier;
                maxMultiplierStatElement.textContent = playerStats.maxMultiplier.toFixed(1) + 'x';
            }
            
            playerStats.totalWins++;
            playerStats.totalProfit += winAmount;
            
            totalWinsElement.textContent = playerStats.totalWins;
            totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
            
            showNotification(`–í—ã –∑–∞–±—Ä–∞–ª–∏ ${winAmount} FCOINS (${multiplier.toFixed(2)}x)`, 'success');
            
            gameActive = false;
            updateBalance();
            startGameButton.innerHTML = '<i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
            startGameButton.style.background = 'linear-gradient(to right, var(--primary), var(--accent))';
            
            // –°–±—Ä–æ—Å –ø–æ–ª—è
            document.querySelectorAll('.cell').forEach(cell => {
                cell.className = 'cell';
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            savePlayerStats();
        }

        // –ò–≥—Ä–∞ –ö—Ä–∞—à - –∑–∞–ø—É—Å–∫ —Ä–∞–∫–µ—Ç—ã (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
        function startCrash() {
            if (crashGameActive) {
                showNotification('–†–∞–∫–µ—Ç–∞ —É–∂–µ –≤ –ø–æ–ª–µ—Ç–µ!', 'error');
                return;
            }
            
            if (crashBet > balance) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ FCOINS –¥–ª—è —Å—Ç–∞–≤–∫–∏', 'error');
                return;
            }
            
            balance -= crashBet;
            updateBalance();
            
            crashGameActive = true;
            crashMultiplier = 1.0;
            cashoutMultiplier = 0;
            
            // –°–±—Ä–æ—Å —Ä–∞–∫–µ—Ç—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∞
            rocketElement.classList.remove('rocket-fly');
            rocketElement.style.transform = 'translateY(0) scale(1)';
            rocketElement.style.opacity = '1';
            graphLineElement.style.height = '0%';
            
            // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–∫–µ—Ç—ã
            setTimeout(() => {
                rocketElement.classList.add('rocket-fly');
            }, 100);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–æ—á–∫—É –≤–∑—Ä—ã–≤–∞ –∑–∞—Ä–∞–Ω–µ–µ (–±–æ–ª–µ–µ —á–µ—Å—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)
            const explosionPoint = 1.0 + Math.random() * 9; // –û—Ç 1.0x –¥–æ 10.0x
            
            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ –∏–≥—Ä—ã
            let time = 0;
            
            crashInterval = setInterval(() => {
                time++;
                
                // –ü–ª–∞–≤–Ω—ã–π —Ä–æ—Å—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—è
                crashMultiplier = 1.0 + (time * 0.02);
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–æ—á–∫–∏ –≤–∑—Ä—ã–≤–∞
                if (crashMultiplier >= explosionPoint) {
                    endCrashGame(false);
                    return;
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                crashMultiplierElement.textContent = crashMultiplier.toFixed(2) + 'x';
                graphLineElement.style.height = `${Math.min((crashMultiplier / 10) * 100, 100)}%`;
                
                // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å 50x
                if (crashMultiplier >= 50) {
                    endCrashGame(true);
                }
            }, 100);
            
            startCrashButton.disabled = true;
            startCrashButton.innerHTML = '<i class="fas fa-rocket"></i> –í –ø–æ–ª–µ—Ç–µ...';
            cashOutCrashButton.disabled = false;
            
            showNotification('–†–∞–∫–µ—Ç–∞ –∑–∞–ø—É—â–µ–Ω–∞! –ó–∞–±–µ—Ä–∏—Ç–µ –≤—ã–∏–≥—Ä—ã—à –¥–æ –≤–∑—Ä—ã–≤–∞.', 'info');
        }

        // –ó–∞–±—Ä–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à –≤ –ö—Ä–∞—à–µ
        function cashOutCrash() {
            if (!crashGameActive) {
                showNotification('–†–∞–∫–µ—Ç–∞ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞!', 'error');
                return;
            }
            
            if (cashoutMultiplier > 0) {
                showNotification('–í—ã —É–∂–µ –∑–∞–±—Ä–∞–ª–∏ –≤—ã–∏–≥—Ä—ã—à –≤ —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ!', 'error');
                return;
            }
            
            cashoutMultiplier = crashMultiplier;
            endCrashGame(true);
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã –ö—Ä–∞—à
        function endCrashGame(isWin) {
            clearInterval(crashInterval);
            crashGameActive = false;
            cashOutCrashButton.disabled = true;
            
            if (isWin && cashoutMultiplier > 0) {
                const winAmount = Math.floor(crashBet * cashoutMultiplier);
                balance += winAmount;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                if (winAmount > playerStats.maxWin) {
                    playerStats.maxWin = winAmount;
                    maxWinElement.textContent = playerStats.maxWin.toLocaleString();
                }
                
                playerStats.totalProfit += winAmount;
                totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                
                showNotification(`–í—ã –∑–∞–±—Ä–∞–ª–∏ ${winAmount} FCOINS (${cashoutMultiplier.toFixed(2)}x)!`, 'success');
            } else if (!isWin) {
                // –†–∞–∫–µ—Ç–∞ –≤–∑–æ—Ä–≤–∞–ª–∞—Å—å
                rocketElement.innerHTML = 'üí•';
                playerStats.totalProfit -= crashBet;
                totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                showNotification(`–†–∞–∫–µ—Ç–∞ –≤–∑–æ—Ä–≤–∞–ª–∞—Å—å –Ω–∞ ${crashMultiplier.toFixed(2)}x! –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ ${crashBet} FCOINS.`, 'error');
            }
            
            updateBalance();
            
            // –°–±—Ä–æ—Å –∫–Ω–æ–ø–∫–∏
            setTimeout(() => {
                startCrashButton.disabled = false;
                startCrashButton.innerHTML = '<i class="fas fa-rocket"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∫–µ—Ç—É';
                rocketElement.innerHTML = 'üöÄ';
                rocketElement.classList.remove('rocket-fly');
                rocketElement.style.transform = 'translateY(0) scale(1)';
                rocketElement.style.opacity = '1';
                graphLineElement.style.height = '0%';
                crashMultiplierElement.textContent = '1.00x';
            }, 2000);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            savePlayerStats();
        }

        // –ò–≥—Ä–∞ –†—É–ª–µ—Ç–∫–∞ - –∫—Ä—É—Ç–∏—Ç—å (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
        function spinRoulette() {
            if (rouletteSpinning) return;
            
            if (rouletteBet > balance) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ FCOINS –¥–ª—è —Å—Ç–∞–≤–∫–∏', 'error');
                return;
            }
            
            balance -= rouletteBet;
            updateBalance();
            
            rouletteSpinning = true;
            spinRouletteButton.disabled = true;
            spinRouletteButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ö—Ä—É—Ç–∏—Ç—Å—è...';
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞—Ä–∞–Ω–µ–µ
            const result = Math.floor(Math.random() * 37); // 0-36
            const isRed = result !== 0 && [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36].includes(result);
            const isBlack = result !== 0 && !isRed;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —É–≥–æ–ª –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –Ω—É–∂–Ω–æ–º —á–∏—Å–ª–µ
            const targetAngle = 3600 + (result * (360 / 37));
            
            // –°–±—Ä–æ—Å –≤—Ä–∞—â–µ–Ω–∏—è
            wheelNumbersElement.style.transition = 'none';
            wheelNumbersElement.style.transform = 'rotate(0deg)';
            
            // –ó–∞–ø—É—Å–∫ –≤—Ä–∞—â–µ–Ω–∏—è
            setTimeout(() => {
                wheelNumbersElement.style.transition = 'transform 5s cubic-bezier(0.2, 0.8, 0.3, 1)';
                wheelNumbersElement.style.transform = `rotate(${targetAngle}deg)`;
                
                // –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –≤—Ä–∞—â–µ–Ω–∏—è
                setTimeout(() => {
                    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞
                    let winMultiplier = 0;
                    if (selectedBet === 'red' && isRed) winMultiplier = 2;
                    if (selectedBet === 'black' && isBlack) winMultiplier = 2;
                    if (selectedBet === 'green' && result === 0) winMultiplier = 14;
                    
                    if (winMultiplier > 0) {
                        const winAmount = rouletteBet * winMultiplier;
                        balance += winAmount;
                        
                        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                        if (winAmount > playerStats.maxWin) {
                            playerStats.maxWin = winAmount;
                            maxWinElement.textContent = playerStats.maxWin.toLocaleString();
                        }
                        
                        playerStats.totalProfit += winAmount;
                        totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                        
                        showNotification(`–í—ã–∏–≥—Ä—ã—à! –í—ã–ø–∞–ª–æ ${result} (${isRed ? '–∫—Ä–∞—Å–Ω–æ–µ' : isBlack ? '—á–µ—Ä–Ω–æ–µ' : '–∑–µ—Ä–æ'}). –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} FCOINS!`, 'success');
                    } else {
                        playerStats.totalProfit -= rouletteBet;
                        totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                        showNotification(`–ü—Ä–æ–∏–≥—Ä—ã—à! –í—ã–ø–∞–ª–æ ${result} (${isRed ? '–∫—Ä–∞—Å–Ω–æ–µ' : isBlack ? '—á–µ—Ä–Ω–æ–µ' : '–∑–µ—Ä–æ'}). –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ ${rouletteBet} FCOINS.`, 'error');
                    }
                    
                    updateBalance();
                    
                    // –°–±—Ä–æ—Å –∫–Ω–æ–ø–∫–∏
                    setTimeout(() => {
                        rouletteSpinning = false;
                        spinRouletteButton.disabled = false;
                        spinRouletteButton.innerHTML = '<i class="fas fa-dice"></i> –ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É';
                    }, 1000);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    savePlayerStats();
                }, 5000);
            }, 50);
        }

        // –ò–≥—Ä–∞ –°–ª–æ—Ç—ã - –∫—Ä—É—Ç–∏—Ç—å
        function spinSlots() {
            if (slotsSpinning) return;
            
            if (slotsBet > balance) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ FCOINS –¥–ª—è —Å—Ç–∞–≤–∫–∏', 'error');
                return;
            }
            
            balance -= slotsBet;
            updateBalance();
            
            slotsSpinning = true;
            document.getElementById('spin-slots').disabled = true;
            document.getElementById('spin-slots').innerHTML = '<i class="fas fa-spinner fa-spin"></i> –ö—Ä—É—Ç–∏—Ç—Å—è...';
            document.getElementById('slots-result').textContent = '';
            
            // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –±–∞—Ä–∞–±–∞–Ω–æ–≤
            const slot1 = document.getElementById('slot-1');
            const slot2 = document.getElementById('slot-2');
            const slot3 = document.getElementById('slot-3');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤—Ä–∞—â–µ–Ω–∏—è
            slot1.classList.add('spinning');
            slot2.classList.add('spinning');
            slot3.classList.add('spinning');
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            const results = [
                slotSymbols[Math.floor(Math.random() * slotSymbols.length)],
                slotSymbols[Math.floor(Math.random() * slotSymbols.length)],
                slotSymbols[Math.floor(Math.random() * slotSymbols.length)]
            ];
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∞—Ä–∞–±–∞–Ω—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏
            setTimeout(() => {
                slot1.classList.remove('spinning');
                slot1.textContent = results[0];
            }, 1000);
            
            setTimeout(() => {
                slot2.classList.remove('spinning');
                slot2.textContent = results[1];
            }, 1500);
            
            setTimeout(() => {
                slot3.classList.remove('spinning');
                slot3.textContent = results[2];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–∏–≥—Ä—ã—à
                const combination = results.join('');
                const payout = slotPayouts[combination];
                
                setTimeout(() => {
                    if (payout) {
                        const winAmount = slotsBet * payout;
                        balance += winAmount;
                        
                        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                        if (winAmount > playerStats.maxWin) {
                            playerStats.maxWin = winAmount;
                            maxWinElement.textContent = playerStats.maxWin.toLocaleString();
                        }
                        
                        playerStats.totalProfit += winAmount;
                        totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                        
                        document.getElementById('slots-result').textContent = `üéâ –í–´–ò–ì–†–´–®! x${payout}`;
                        document.getElementById('slots-result').style.color = 'var(--success)';
                        showNotification(`–î–∂–µ–∫–ø–æ—Ç! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} FCOINS (x${payout})!`, 'success');
                    } else {
                        playerStats.totalProfit -= slotsBet;
                        totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
                        document.getElementById('slots-result').textContent = '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑';
                        document.getElementById('slots-result').style.color = 'var(--gray)';
                        showNotification(`–ù–µ –ø–æ–≤–µ–∑–ª–æ. –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ ${slotsBet} FCOINS.`, 'error');
                    }
                    
                    updateBalance();
                    
                    // –°–±—Ä–æ—Å –∫–Ω–æ–ø–∫–∏
                    slotsSpinning = false;
                    document.getElementById('spin-slots').disabled = false;
                    document.getElementById('spin-slots').innerHTML = '<i class="fas fa-play"></i> –ö—Ä—É—Ç–∏—Ç—å —Å–ª–æ—Ç—ã';
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    savePlayerStats();
                }, 500);
            }, 2000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalance() {
            balanceElement.textContent = balance.toLocaleString();
            localStorage.setItem('frnmines_balance', balance);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            if (currentUser.telegramId) {
                sendToServer({
                    type: 'update_balance',
                    telegram_id: currentUser.telegramId,
                    balance: balance
                });
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è –≤ –ú–∏–Ω–∞—Ö
        function updateMultiplier() {
            multiplierElement.textContent = multiplier.toFixed(2) + 'x';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –≤ –ú–∏–Ω–∞—Ö
        function updatePotentialWin() {
            const potentialWin = Math.floor(currentBet * multiplier);
            potentialWinElement.textContent = potentialWin.toLocaleString();
        }

        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket
        function connectWebSocket() {
            const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsUrl = `${protocol}//${window.location.host}`;
            
            ws = new WebSocket(wsUrl);
            
            ws.onopen = () => {
                console.log('‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω');
                isConnected = true;
                
                // –ê–≤—Ç–æ—Ä–∏–∑—É–µ–º—Å—è
                if (currentUser.telegramId) {
                    ws.send(JSON.stringify({
                        type: 'auth',
                        telegram_id: currentUser.telegramId,
                        username: currentUser.username,
                        first_name: currentUser.name.split(' ')[0],
                        last_name: currentUser.name.split(' ')[1] || '',
                        photo_url: currentUser.avatar
                    }));
                }
                
                if (reconnectInterval) {
                    clearInterval(reconnectInterval);
                    reconnectInterval = null;
                }
            };
            
            ws.onmessage = (event) => {
                try {
                    const data = JSON.parse(event.data);
                    handleServerMessage(data);
                } catch (err) {
                    console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', err);
                }
            };
            
            ws.onclose = () => {
                console.log('‚ùå WebSocket –æ—Ç–∫–ª—é—á–µ–Ω');
                isConnected = false;
                
                // –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                if (!reconnectInterval) {
                    reconnectInterval = setInterval(() => {
                        console.log('üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...');
                        connectWebSocket();
                    }, 3000);
                }
            };
            
            ws.onerror = (error) => {
                console.error('WebSocket –æ—à–∏–±–∫–∞:', error);
            };
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
        function handleServerMessage(data) {
            switch (data.type) {
                case 'auth_success':
                    handleAuthSuccess(data.user);
                    break;
                case 'balance_updated':
                    balance = data.balance;
                    updateBalance();
                    break;
                case 'balance_changed':
                    balance = data.new_balance;
                    updateBalance();
                    showNotification(`–ë–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ ${data.change > 0 ? '+' : ''}${data.change} FCOINS`, data.change > 0 ? 'success' : 'error');
                    break;
                case 'promo_success':
                    balance = data.new_balance;
                    updateBalance();
                    showNotification(`–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –ü–æ–ª—É—á–µ–Ω–æ ${data.amount} FCOINS`, 'success');
                    break;
                case 'promo_error':
                    showNotification(data.message, 'error');
                    break;
                case 'badge_received':
                    showNotification(`–í—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–æ–≤—ã–π –±–µ–π–¥–∂: ${data.badge_type}!`, 'success');
                    loadUserBadges();
                    break;
                case 'admin_message':
                    showNotification(data.message, 'admin');
                    break;
                case 'fn_live_block':
                    showFNLiveBlock(data.reason);
                    break;
                case 'online_count':
                    document.getElementById('online-count').textContent = data.count;
                    break;
                default:
                    console.log('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', data);
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function handleAuthSuccess(user) {
            currentUser.id = user.telegram_id;
            currentUser.telegramId = user.telegram_id;
            currentUser.name = user.first_name + (user.last_name ? ' ' + user.last_name : '');
            currentUser.username = user.username;
            currentUser.avatar = user.photo_url || currentUser.avatar;
            currentUser.verified = user.verified === 1;
            currentUser.isFounder = user.is_founder === 1;
            
            balance = user.balance;
            updateBalance();
            updateUserProfile();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –±–µ–π–¥–∂–∏
            if (user.badges) {
                user.badges.forEach(badge => {
                    const badgeElement = document.getElementById(`badge-${badge}`);
                    if (badgeElement) {
                        badgeElement.classList.add('active');
                    }
                });
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—é
            if (currentUser.isFounder) {
                document.getElementById('admin-access-btn').style.display = 'flex';
            } else {
                document.getElementById('admin-access-btn').style.display = 'none';
            }
            
            showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${currentUser.name}!`, 'success');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
        function showFNLiveBlock(reason) {
            const overlay = document.getElementById('fn-live-overlay');
            const reasonElement = document.getElementById('fn-live-reason');
            
            reasonElement.textContent = reason;
            overlay.classList.add('active');
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã
            if (gameActive) {
                gameActive = false;
            }
            if (crashGameActive) {
                clearInterval(crashInterval);
                crashGameActive = false;
            }
            if (rouletteSpinning) {
                rouletteSpinning = false;
            }
            if (slotsSpinning) {
                slotsSpinning = false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                overlay.classList.remove('active');
                showNotification('–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–Ω—è—Ç–∞. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã!', 'info');
            }, 10000);
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        function sendToServer(data) {
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify(data));
            } else {
                console.error('WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω');
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –±–µ–π–¥–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserBadges() {
            // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({
                    type: 'auth',
                    telegram_id: currentUser.telegramId,
                    username: currentUser.username,
                    first_name: currentUser.name.split(' ')[0],
                    last_name: currentUser.name.split(' ')[1] || '',
                    photo_url: currentUser.avatar
                }));
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ Telegram –ø—Ä–æ—Ñ–∏–ª—è
        function loadTelegramProfile() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ Telegram Web App API
            if (tg && tg.initDataUnsafe && tg.initDataUnsafe.user) {
                const tgUser = tg.initDataUnsafe.user;
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram
                const telegramProfile = {
                    id: tgUser.id,
                    name: tgUser.first_name + (tgUser.last_name ? ' ' + tgUser.last_name : ''),
                    username: tgUser.username || 'user' + tgUser.id,
                    avatar: tgUser.photo_url || `https://i.pravatar.cc/150?img=${tgUser.id % 70}`
                };
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                localStorage.setItem('frnmines_telegram_profile', JSON.stringify(telegramProfile));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                currentUser.name = telegramProfile.name;
                currentUser.username = telegramProfile.username;
                currentUser.avatar = telegramProfile.avatar;
                currentUser.telegramId = telegramProfile.id;
                currentUser.id = telegramProfile.id;
                
                updateUserProfile();
                showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${currentUser.name}!`, 'success');
                
                // –†–∞—Å—à–∏—Ä—è–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                tg.expand();
                
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å Telegram
            const savedTelegramProfile = localStorage.getItem('frnmines_telegram_profile');
            
            if (savedTelegramProfile) {
                try {
                    const telegramProfile = JSON.parse(savedTelegramProfile);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Telegram
                    currentUser.name = telegramProfile.name || currentUser.name;
                    currentUser.username = telegramProfile.username || currentUser.username;
                    currentUser.avatar = telegramProfile.avatar || currentUser.avatar;
                    currentUser.telegramId = telegramProfile.id || currentUser.telegramId;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    updateUserProfile();
                    
                    showNotification(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${currentUser.name}!`, 'success');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è Telegram:', e);
                    updateUserProfile();
                }
            } else {
                // –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è Telegram, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π
                updateUserProfile();
                showNotification('–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º. –û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ Telegram –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.', 'info');
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function updateUserProfile() {
            usernameElement.textContent = currentUser.name;
            userAvatar.src = currentUser.avatar;
            userIdElement.textContent = `#${currentUser.id}`;
            tgUsernameElement.textContent = `@${currentUser.username}`;
            
            if (currentUser.verified) {
                verifiedBadge.style.display = 'flex';
                document.getElementById('badge-verified').classList.add('active');
            } else {
                verifiedBadge.style.display = 'none';
                document.getElementById('badge-verified').classList.remove('active');
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            localStorage.setItem('frnmines_user', JSON.stringify(currentUser));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –∏–∑ "—Ñ–∞–π–ª–∞" (localStorage –∏–º–∏—Ç–∏—Ä—É–µ—Ç promocodes.txt)
        function loadPromoCodes() {
            const saved = localStorage.getItem('frnmines_promocodes');
            if (saved) {
                promoCodes = JSON.parse(saved);
            } else {
                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã
                promoCodes = {
                    'WELCOME500': {amount: 500, used: false},
                    'MINES1000': {amount: 1000, used: false},
                    'BONUS2024': {amount: 1500, used: false}
                };
                savePromoCodes();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ –≤ "—Ñ–∞–π–ª" (localStorage –∏–º–∏—Ç–∏—Ä—É–µ—Ç promocodes.txt)
        function savePromoCodes() {
            localStorage.setItem('frnmines_promocodes', JSON.stringify(promoCodes));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞
        function loadPlayerStats() {
            const saved = localStorage.getItem('frnmines_stats');
            if (saved) {
                playerStats = JSON.parse(saved);
                updateStatsDisplay();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞
        function savePlayerStats() {
            localStorage.setItem('frnmines_stats', JSON.stringify(playerStats));
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStatsDisplay() {
            totalWinsElement.textContent = playerStats.totalWins;
            totalProfitElement.textContent = '+' + playerStats.totalProfit.toLocaleString();
            maxWinElement.textContent = playerStats.maxWin.toLocaleString();
            maxMultiplierStatElement.textContent = playerStats.maxMultiplier.toFixed(1) + 'x';
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        async function loadUserList() {
            const userListElement = document.getElementById('user-list');
            
            try {
                const response = await fetch('/api/users');
                const users = await response.json();
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                userListElement.innerHTML = '';
                users.forEach(user => {
                    const lastActive = new Date(user.last_active).toLocaleString('ru-RU');
                    const userItem = document.createElement('div');
                    userItem.className = 'user-item';
                    userItem.innerHTML = `
                        <div>
                            <strong>${user.first_name} ${user.last_name || ''}</strong> (@${user.username})
                            <br>
                            <small style="color: var(--gray);">
                                TG ID: ${user.telegram_id} | –ë–∞–ª–∞–Ω—Å: ${user.balance.toLocaleString()} FCOINS
                            </small>
                            <br>
                            <small style="color: var(--gray);">–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ${lastActive}</small>
                            ${user.verified ? '<br><small style="color: var(--success);"><i class="fas fa-check-circle"></i> –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</small>' : ''}
                            ${user.is_founder ? '<br><small style="color: var(--warning);"><i class="fas fa-crown"></i> –û—Å–Ω–æ–≤–∞—Ç–µ–ª—å</small>' : ''}
                        </div>
                        <div style="display: flex; gap: 5px; flex-direction: column;">
                            <button class="bet-btn" onclick="selectUserForAdmin(${user.telegram_id}, '${user.username}')" title="–í—ã–±—Ä–∞—Ç—å">
                                <i class="fas fa-user-edit"></i>
                            </button>
                            <button class="bet-btn" onclick="fnLiveBlockUser(${user.telegram_id})" title="FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞" style="background: #ff4444;">
                                <i class="fas fa-shield-alt"></i>
                            </button>
                        </div>
                    `;
                    userListElement.appendChild(userItem);
                });
            } catch (err) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', err);
                userListElement.innerHTML = '<p style="color: var(--danger); padding: 15px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>';
            }
        }
        
        // –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (–≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
        window.selectUserForAdmin = function(telegramId, username) {
            document.getElementById('admin-user').value = telegramId;
            document.getElementById('admin-username-badge').value = telegramId;
            document.getElementById('fn-live-user-id').value = telegramId;
            showNotification(`–í—ã–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @${username} (ID: ${telegramId})`, 'info');
        };
        
        // FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
        window.fnLiveBlockUser = async function(telegramId) {
            if (!confirm(`–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${telegramId}?`)) {
                return;
            }
            
            try {
                const response = await fetch('/api/admin/fn-live-block', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        admin_id: currentUser.telegramId,
                        user_id: telegramId,
                        reason: '–°–∏—Å—Ç–µ–º–∞ FN-Live –ø–æ—Å—á–∏—Ç–∞–ª–∞ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—ã—á–Ω—ã–º–∏'
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showNotification('FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!', 'success');
                } else {
                    showNotification(result.message || '–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏', 'error');
                }
            } catch (err) {
                showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏', 'error');
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        function initAdminPanel() {
            // –ö–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—è)
            adminAccessBtn.addEventListener('click', () => {
                if (currentUser.isFounder) {
                    adminPanel.classList.add('active');
                    loadUserList();
                } else {
                    showNotification('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –¢–æ–ª—å–∫–æ –¥–ª—è –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—è.', 'error');
                }
            });
            
            closeAdmin.addEventListener('click', () => {
                adminPanel.classList.remove('active');
            });
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            document.getElementById('refresh-users').addEventListener('click', () => {
                loadUserList();
                showNotification('–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω', 'info');
            });
            
            // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º
            sendAllButton.addEventListener('click', async () => {
                const message = adminMessageElement.value;
                if (!message) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è!', 'error');
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/broadcast', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            message: message
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Å–µ–º –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º!', 'success');
                        adminMessageElement.value = '';
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è', 'error');
                }
            });
            
            // –í—ã–¥–∞—Ç—å –±–µ–π–¥–∂
            giveBadgeButton.addEventListener('click', async () => {
                const userId = document.getElementById('admin-username-badge').value;
                const badge = document.getElementById('badge-select').value;
                
                if (!userId) {
                    showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/give-badge', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            user_id: parseInt(userId),
                            badge_type: badge
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification(`–ë–µ–π–¥–∂ "${badge}" –≤—ã–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é!`, 'success');
                        document.getElementById('admin-username-badge').value = '';
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –≤—ã–¥–∞—á–∏ –±–µ–π–¥–∂–∞', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –≤—ã–¥–∞—á–∏ –±–µ–π–¥–∂–∞', 'error');
                }
            });
            
            // –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
            addPromoButton.addEventListener('click', async () => {
                const code = document.getElementById('promo-code-input').value.toUpperCase();
                const amount = parseInt(document.getElementById('promo-amount').value);
                
                if (!code || !amount) {
                    showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/add-promo', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            code: code,
                            amount: amount
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification(`–ü—Ä–æ–º–æ–∫–æ–¥ ${code} –Ω–∞ —Å—É–º–º—É ${amount} FCOINS –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ë–î`, 'success');
                        document.getElementById('promo-code-input').value = '';
                        document.getElementById('promo-amount').value = '';
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞', 'error');
                }
            });
            
            // –ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
            addBalanceButton.addEventListener('click', async () => {
                const userId = document.getElementById('admin-user').value;
                const amount = parseInt(document.getElementById('balance-change').value);
                
                if (!userId || !amount) {
                    showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/change-balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            user_id: parseInt(userId),
                            amount: amount
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification(`${amount} FCOINS –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é!`, 'success');
                        document.getElementById('admin-user').value = '';
                        document.getElementById('balance-change').value = '';
                        loadUserList();
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞', 'error');
                }
            });
            
            removeBalanceButton.addEventListener('click', async () => {
                const userId = document.getElementById('admin-user').value;
                const amount = parseInt(document.getElementById('balance-change').value);
                
                if (!userId || !amount) {
                    showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/change-balance', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            user_id: parseInt(userId),
                            amount: -amount
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification(`${amount} FCOINS —Å–ø–∏—Å–∞–Ω—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!`, 'success');
                        document.getElementById('admin-user').value = '';
                        document.getElementById('balance-change').value = '';
                        loadUserList();
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞', 'error');
                }
            });
            
            // FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
            document.getElementById('fn-live-block-btn').addEventListener('click', async () => {
                const userId = document.getElementById('fn-live-user-id').value;
                const reason = document.getElementById('fn-live-reason').value || '–°–∏—Å—Ç–µ–º–∞ FN-Live –ø–æ—Å—á–∏—Ç–∞–ª–∞ –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—ã—á–Ω—ã–º–∏';
                
                if (!userId) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                    return;
                }
                
                if (!confirm(`–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}?`)) {
                    return;
                }
                
                try {
                    const response = await fetch('/api/admin/fn-live-block', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            admin_id: currentUser.telegramId,
                            user_id: parseInt(userId),
                            reason: reason
                        })
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification('FN-Live –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!', 'success');
                        document.getElementById('fn-live-user-id').value = '';
                        document.getElementById('fn-live-reason').value = '';
                    } else {
                        showNotification(result.message || '–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏', 'error');
                    }
                } catch (err) {
                    showNotification('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏', 'error');
                }
            });
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('frnmines_theme', newTheme);
            
            const themeIcon = document.querySelector('#theme-toggle i');
            themeIcon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            
            showNotification(`–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ ${newTheme === 'dark' ? '—Ç–µ–º–Ω—É—é' : '—Å–≤–µ—Ç–ª—É—é'}`, 'info');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã
        function loadTheme() {
            const savedTheme = localStorage.getItem('frnmines_theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            const themeIcon = document.querySelector('#theme-toggle i');
            if (themeIcon) {
                themeIcon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            loadTheme();
            initGameGrid();
            initRoulette();
            
            // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ WebSocket
            connectWebSocket();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            const savedBalance = localStorage.getItem('frnmines_balance');
            if (savedBalance) {
                balance = parseInt(savedBalance);
            }
            
            updateBalance();
            loadPromoCodes();
            loadPlayerStats();
            loadTelegramProfile(); // –ó–∞–≥—Ä—É–∂–∞–µ–º Telegram –ø—Ä–æ—Ñ–∏–ª—å
            initAdminPanel();
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            const regDate = new Date();
            regDate.setDate(regDate.getDate() - 30); // 30 –¥–Ω–µ–π –Ω–∞–∑–∞–¥
            regDateElement.textContent = regDate.toLocaleDateString('ru-RU');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
            multiplier = calculateInitialMultiplier();
            baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
            updateMultiplier();
            updatePotentialWin();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ –º–∏–Ω
            minesSlider.addEventListener('input', function() {
                mineCount = parseInt(this.value);
                minesValueElement.textContent = mineCount;
                minesCountElement.textContent = mineCount;
                
                // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —à–∞–≥ –º–Ω–æ–∂–∏—Ç–µ–ª—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω
                multiplierStep = calculateMultiplierStep();
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–∫–∏ –≤ –ú–∏–Ω–∞—Ö
            betDownButton.addEventListener('click', () => {
                currentBet = Math.max(10, currentBet - 50);
                betAmountElement.value = currentBet;
                
                // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                multiplier = calculateInitialMultiplier();
                baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
                updateMultiplier();
                updatePotentialWin();
            });
            
            betUpButton.addEventListener('click', () => {
                currentBet = Math.min(100000, currentBet + 50);
                betAmountElement.value = currentBet;
                
                // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                multiplier = calculateInitialMultiplier();
                baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
                updateMultiplier();
                updatePotentialWin();
            });
            
            betAmountElement.addEventListener('input', () => {
                let value = betAmountElement.value;
                // –†–∞–∑—Ä–µ—à–∞–µ–º –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –≤–≤–æ–¥–∞ –Ω–æ–≤–æ–π —Å—É–º–º—ã
                if (value === '') {
                    currentBet = 0;
                    return;
                }
                currentBet = parseInt(value) || 10;
                currentBet = Math.max(10, Math.min(100000, currentBet));
                
                // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                multiplier = calculateInitialMultiplier();
                baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
                updateMultiplier();
                updatePotentialWin();
            });
            
            betAmountElement.addEventListener('blur', () => {
                // –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º—É–º, –µ—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ
                if (betAmountElement.value === '' || parseInt(betAmountElement.value) < 10) {
                    currentBet = 10;
                    betAmountElement.value = currentBet;
                    multiplier = calculateInitialMultiplier();
                    baseMultiplierElement.textContent = multiplier.toFixed(2) + 'x';
                    updateMultiplier();
                    updatePotentialWin();
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–∫–∏ –≤ –ö—Ä–∞—à–µ
            crashBetDownButton.addEventListener('click', () => {
                crashBet = Math.max(10, crashBet - 50);
                crashBetAmountElement.value = crashBet;
            });
            
            crashBetUpButton.addEventListener('click', () => {
                crashBet = Math.min(100000, crashBet + 50);
                crashBetAmountElement.value = crashBet;
            });
            
            crashBetAmountElement.addEventListener('input', () => {
                let value = crashBetAmountElement.value;
                if (value === '') {
                    crashBet = 0;
                    return;
                }
                crashBet = parseInt(value) || 10;
                crashBet = Math.max(10, Math.min(100000, crashBet));
            });
            
            crashBetAmountElement.addEventListener('blur', () => {
                if (crashBetAmountElement.value === '' || parseInt(crashBetAmountElement.value) < 10) {
                    crashBet = 10;
                    crashBetAmountElement.value = crashBet;
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–∫–∏ –≤ –†—É–ª–µ—Ç–∫–µ
            rouletteBetDownButton.addEventListener('click', () => {
                rouletteBet = Math.max(10, rouletteBet - 50);
                rouletteBetAmountElement.value = rouletteBet;
            });
            
            rouletteBetUpButton.addEventListener('click', () => {
                rouletteBet = Math.min(100000, rouletteBet + 50);
                rouletteBetAmountElement.value = rouletteBet;
            });
            
            rouletteBetAmountElement.addEventListener('input', () => {
                let value = rouletteBetAmountElement.value;
                if (value === '') {
                    rouletteBet = 0;
                    return;
                }
                rouletteBet = parseInt(value) || 10;
                rouletteBet = Math.max(10, Math.min(100000, rouletteBet));
            });
            
            rouletteBetAmountElement.addEventListener('blur', () => {
                if (rouletteBetAmountElement.value === '' || parseInt(rouletteBetAmountElement.value) < 10) {
                    rouletteBet = 10;
                    rouletteBetAmountElement.value = rouletteBet;
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –≤ –ú–∏–Ω–∞—Ö
            startGameButton.addEventListener('click', startGame);
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–±—Ä–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à –≤ –ú–∏–Ω–∞—Ö
            cashOutButton.addEventListener('click', cashOut);
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –≤ –ö—Ä–∞—à–µ
            startCrashButton.addEventListener('click', startCrash);
            
            // –ö–Ω–æ–ø–∫–∞ –∑–∞–±—Ä–∞—Ç—å –≤—ã–∏–≥—Ä—ã—à –≤ –ö—Ä–∞—à–µ
            cashOutCrashButton.addEventListener('click', cashOutCrash);
            
            // –ö–Ω–æ–ø–∫–∞ –∫—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É
            spinRouletteButton.addEventListener('click', spinRoulette);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–∫–∏ –≤ –°–ª–æ—Ç–∞—Ö
            document.getElementById('slots-bet-down').addEventListener('click', () => {
                slotsBet = Math.max(10, slotsBet - 50);
                document.getElementById('slots-bet-amount').value = slotsBet;
            });
            
            document.getElementById('slots-bet-up').addEventListener('click', () => {
                slotsBet = Math.min(100000, slotsBet + 50);
                document.getElementById('slots-bet-amount').value = slotsBet;
            });
            
            document.getElementById('slots-bet-amount').addEventListener('input', () => {
                let value = document.getElementById('slots-bet-amount').value;
                if (value === '') {
                    slotsBet = 0;
                    return;
                }
                slotsBet = parseInt(value) || 10;
                slotsBet = Math.max(10, Math.min(100000, slotsBet));
            });
            
            document.getElementById('slots-bet-amount').addEventListener('blur', () => {
                if (document.getElementById('slots-bet-amount').value === '' || parseInt(document.getElementById('slots-bet-amount').value) < 10) {
                    slotsBet = 10;
                    document.getElementById('slots-bet-amount').value = slotsBet;
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –∫—Ä—É—Ç–∏—Ç—å —Å–ª–æ—Ç—ã
            document.getElementById('spin-slots').addEventListener('click', spinSlots);
            
            // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const sectionId = item.dataset.section;
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏
                    contentSections.forEach(section => section.classList.remove('active'));
                    document.getElementById(sectionId).classList.add('active');
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞
            dailyBonusButton.addEventListener('click', () => {
                const bonusAmount = 500;
                balance += bonusAmount;
                updateBalance();
                showNotification(`–í—ã –ø–æ–ª—É—á–∏–ª–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å: ${bonusAmount} FCOINS!`, 'success');
                dailyBonusButton.disabled = true;
                dailyBonusButton.innerHTML = '<i class="fas fa-check"></i> –ë–æ–Ω—É—Å –ø–æ–ª—É—á–µ–Ω';
                dailyBonusButton.style.background = 'var(--gray)';
            });
            
            // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
            applyPromoButton.addEventListener('click', () => {
                const promoCode = promoCodeInput.value.trim().toUpperCase();
                
                if (!promoCode) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥', 'error');
                    return;
                }
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                sendToServer({
                    type: 'use_promo',
                    telegram_id: currentUser.telegramId,
                    code: promoCode
                });
                
                promoCodeInput.value = '';
            });
        }

        // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>